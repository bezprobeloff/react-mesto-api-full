<h1 align="center">Проект Mesto Russia</h1>


## Обзор

Репозиторий для приложения проекта `Mesto Russia`, включающий фронтенд и бэкенд части приложения со следующими возможностями: авторизации и регистрации пользователей, операции с карточками и пользователями. 

## Директории

`/backend` — папка бекенда или перейти на **[Mesto Russia (frontend)](https://github.com/bezprobeloff/react-mesto-api-full/tree/main/frontend)**    
`/frontend` — папка фронтенда или перейти на **[Mesto Russia (backend)](https://github.com/bezprobeloff/react-mesto-api-full/tree/main/backend)**   

## Frontend


https://user-images.githubusercontent.com/44836223/196674135-e667402e-daad-4424-a7fc-a67873e0be99.mp4

Проект сайта о красивых местах в России, который можно посмотреть в режиме мобильного, планшета и десктопа.
На каждом устройстве сайт адаптивно меняется для удобства и читабельности.

Данный проект является продолжением __Mesto Russia__ - https://github.com/bezprobeloff/mesto-react, но с дополнительным функционалом авторизации.

Синхронизируем данные по api - https://api.mesto.bezprobeloff.nomoredomains.icu/ 

Можем обмениваться информацией с сервером по REST API: добавить и удалить (только свою) карточку с подтверждением, поставить/снять лайк, обновление данных пользователя (имя, аватарка), авторизация/регистрация.

**История разработки**

Ссылка на историю разработки - https://github.com/bezprobeloff/react-mesto-auth

**Технологии**

Использованы следующие технологии:

* __Flexbox__
* __Grid__
* __SASS__
* Методология __БЭМ__
* __Семантическая__ вёрстка
* __Адаптивность__ с использованием "резиновости"
* __React__ технологии
  * хуки: useState, useEffect
  * кастомный хук: useInput для валидации форм
  * функциональные компоненты
  * React Router (v. 5.2.1)
  * Context

* Реализация логики, а также получение данных с сервера по __REST API__:
  * Снятие/Установка лайков
  * Добавление карточки. Удаление только своих карточек
  * Обновление/редактирование данных пользователя (имя, работа, аватарка)
  * Валидация форм
  * Открытие попапов (редактирование профиля, добавление карточки, просмотр картинки)
  * Закрытие попапов (по Esc, по overlay, по кнопке закрытия)
  * Авторизация/регистрация
  * После авторизации, перебрасывает на страницу списка карточек

**Установка**

Установить Node.js (v16.5) и запустить в корневом каталоге проекта:

###  `npm install`


**Скрипты**

###  `npm start`
Запуск в режиме разработки, в браузере автоматически откроется по такому адресу [http://localhost:8080/](http://localhost:8080/)

### `npm run build`

Сборка приложения в папку `build`


## Backend

### Обзор

Проект бекенд для сайта Mesto Russia https://mesto.bezprobeloff.nomoredomains.icu/  
Ссылка на __API__ - https://api.mesto.bezprobeloff.nomoredomains.icu/  

### История разработки

Посмотреть историю разработки можно здесь - https://github.com/bezprobeloff/express-mesto-gha/

### Роуты

| Роут | Запрос | Действие | Ошибки |
| --- | --- | --- | --- |
| `/users` | GET POST | GET-запрос возвращает всех пользователей из базы данных; POST-запрос создаёт пользователя с переданными в теле запроса name, about, avatar | 400 — Переданы некорректные данные при создании пользователя. 500 — Ошибка по умолчанию. |
| `/users/:userId` | GET | GET-запрос возвращает пользователя по переданному _id. | 404 — Пользователь по указанному _id не найден. 500 — Ошибка по умолчанию. |
| `/users/me` | PATCH | PATCH-запрос обновляет информацию о пользователе. | 400 — Переданы некорректные данные при обновлении профиля. 404 — Пользователь с указанным _id не найден. 500 — Ошибка по умолчанию. |
| `/users/me/avatar` | PATCH | PATCH-запрос обновляет аватар пользователя. | 400 — Переданы некорректные данные при обновлении аватара. 404 — Пользователь с указанным _id не найден. 500 — Ошибка по умолчанию. |
| `/cards` | GET POST | GET-запрос возвращает все карточки из базы данных. POST-запрос создает новую карточку по переданным параметрам. | 400 — Переданы некорректные данные при создании карточки. 500 — Ошибка по умолчанию. |
| `/cards/:cardId` | DELETE | DELETE-запрос удаляет карточку по _id. | 404 — Карточка с указанным _id не найдена. |
| `/cards/:cardId/likes` | PUT DELETE | PUT-запрос добавляет лайк карточке. DELETE-запрос удаляет лайк с карточки. | 400 — Переданы некорректные данные для постановки/снятии лайка. 404 — Передан несуществующий _id карточки. 500 — Ошибка по умолчанию. |

### Технологии

* express
* celebrate
* joi
* mongoose
* validator
* jsonwebtoken
* express-winston
* централизованная обработка ошибок

### Директории

`/routes` — папка с файлами роутера  
`/controllers` — папка с файлами контроллеров пользователя и карточки   
`/models` — папка с файлами описания схем пользователя и карточки  
`/middlewares` — папка с файлами промежуточных функций  
`/errors` — папка с файлами кастомных ошибок

### Установка

Установить Node.js (v16.5) и запустить в корневом каталоге проекта:

`npm install` — установка пакетов   

### Запуск проекта

`npm run start` — запускает сервер   
`npm run dev` — запускает сервер с hot-reload
